# Linux的目录结构

- /bin（重点）
    - 是Binary的缩写, 这个目录存放着最经常使用的命令
    
- /sbin
    - s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序
    
- /home（重点）
    - 存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一般
      该目录名是以用户的账号命名的
      
- /root（重点）
    - 该目录为系统管理员，也称作超级权限者的用户主目录
    
- /lib
    - 系统开机所需要最基本的动态连接共享库，其作用类似于Windows里的DLL文件。几
      乎所有的应用程序都需要用到这些共享库
      
- /lost+found
    - 这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。
    
- /etc（重点）
    - 所有的系统管理所需要的配置文件和子目录 my.conf
    
- /usr
    - 这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似与
      windows下的program files目录
      
- /boot（重点）
    - 存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件

- /proc（和Linux内核相关，一般不动）
    - 这个目录是一个虚拟的目录，它是系统内存的映射，访问这个目录来获取系统信息
    
- /srv（和Linux内核相关，一般不动）
    - service缩写，该目录存放一些服务启动之后需要提取的数据

- /sys（和Linux内核相关，一般不动）
    - service缩写，该目录存放一些服务启动之后需要提取的数据
    
- /tmp
    - 这个目录是用来存放一些临时文件的
    
- /dev
    - 类似于windows的设备管理器，把所有的硬件用文件的形式存储
    
- /media（重点）
    - linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux
      会把识别的设备挂载到这个目录下
      
- /mnt
    - 系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在/mnt/上，然后进入该目录就可以查看里的内容了。 d:/myshare
    
- /opt
    - 这是给主机额外安装软件所摆放的目录。如安装ORACLE数据库就可放到该目录下。
      默认为空
      
- /usr/local（重点）
    - 这是另一个给主机额外安装软件所安装的目录。一般是通过编译源码方式安装的程序
    
- /var（重点）
    - 这个目录中存放着在不断扩充着的东西，习惯将经常被修改的目录放在这个目录下。
      包括各种日志文件
      
- /selinux
    - SELinux是一种安全子系统,它能控制程序只能访问特定文件
    
# Linux目录总结

1. Linux的目录下有且只有一个根目录 /
2. Linux的各个目录存放的内容是规划好的，不要乱放文件
3. Linux是以文件的形式来管理我们的设备，因此Linux系统中，一切皆为文件
4. Linux的各个文件目录下，存放什么内容，必须有一个认识
5. 学习完后，脑海应该有一棵Linux目录树

# Linux vi和vim 编辑器

## vi和vim的三种常见模式

- 正常模式
    > 在正常模式下，我们可以使用快捷键。 以 vim 打开一个档案就直接进入一般模式了(这是默认的模式)。在这个模式中，你可以使用『上 下左右』按键来移动光标，你可以使用『删除字符』或『删除整行』来处理档案内容， 也可以使用 『复制、贴上』来处理你的文件数据

- 插入模式（编辑模式）
    > 在模式下，程序员可以输入内容。 按下 i, I, o, O, a, A, r, R 等任何一个字母之后才会进入编辑模式, 一般来说按 i 即可

- 命令行模式
    > 在这个模式当中， 可以提供你相关指令，完成读取、存盘、替换、离开 vim 、显示行号等的动 作则是在此模式中达成的！
  
  ## 常用快捷键
  
- yy
  - 普通模式下，拷贝当前行。黏贴则按p。
  
- 5yy
    - 普通模式下，拷贝光标后的5行（所以先要移动到要复制的那5行之前的一行先），黏贴也是按p。
    
- dd
    - 普通模式下，删除当前行
    
- 5dd
    - 一次性删除光标下的5行
    
- 查询
    - 命令行模式下，输入/，再输入要查找的字符。例如/hello，就是查找关键字为hello的文本，有多个结果时，按n键移动到下一个。

- 显示行号和取消显示行号（行数很多时使用）
    - 命令行模式下，输入:，再输入set nu显示行号。要取消显示行号则输入:set nonu
    
- 跳转到文本的最末行和最首行
    - 正常模式下，输入G，跳转到最末行。输入gg，则跳转到最首行。

- 回退、撤销功能
    - 在正常模式下，输入u，即可回退上次输入的内容。
    
- 让光标移动到指定行
    - 普通模式下，输入行号（注意：不会有输入产生!），再按shit + g，即可让光标移动，一般会先让行号显示，才知道有多少行。
    
# Linux 系统相关

## 关机和重启命令

- shutdown命令
    - shutdown -h now：表示立即关机
    - shutdown -h 1：表示1分钟过后关机
    - shutdown -r now：表示立即重启
    
- halt
    - 直接使用即可，效果等价于关机
    
- reboot
    - 重启系统
    
- sync
    - 把内存中的数据，同步到磁盘上，执行后是看不到效果的（避免数据丢失，建议在关机之前都执行）
    
## 用户的登录和注销

## 基本介绍

- 登录时尽量少用 root 帐号登录，因为它是系统管理员，最大的权限，避免操作失误。可以利 用普通用户登录，登录后再用”su - 用户名’命令来切换成系统管理员身份。
- 在提示符下输入 logout 即可注销用户。

## 使用细节

- logout 注销命令，在图形界面上的终端运行是无效的，在运行级别3下有效，就是远程登录下进行logout命令注销是有效的

# Linux 用户管理

- 概念：
    - 每个用户，可以有多个组，用组来管理用户，以及用户的权限。
    - 每个用户，有自己一个家目录，每个用户登录时，都会自动进入自己用户的家目录下。用家目录，来规定用户在自己的目录下用。

- 说明：
    - Linux 系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向 系统管理员申请一个账号，然后以这个账号的身份进入系统。 
    - Linux 的用户需要至少要属于一个组。
    
## 添加用户

- 语法
    - useradd [选项] 用户名，创建用户
    - useradd -d 目录名 用户名，例如：useradd -d /home/tiger/ xh，意思时创建一个xh用户，并指定它的家目录为 /home/tiger，注意目录不要事先创建，必须目录不存在才行

- 细节
    - 当用户创建后，默认会创建一个和用户名同名的家目录，在/home/目录下可以见到
    
## 指定或修改密码

- 语法
    - passwd 用户名，给指定用户设置密码，需要输入2次密码进行确认
    
## 删除用户

- 语法
    - userdel 用户名
    
- 案例
    - 删除xm用户，但保留家目录。userdel xm
    - 删除xm用户，家目录也一起删除，使用-r参数。userdel -r xm

- 细节
    - 一般删除用户时，不会删除家目录
    
## 查询用户

- 基本语法
    - id 用户名
    
- 案例
    - 查询root用户的用户信息：id root，输出uid=(root) gid=0(root) 组=0(root)。表示root用户的id为0，组的id为0，组名为root。
    - 查询xq用户的用户信息：id xq，输出uid=(xq) gid=501(xq) 组=501(xq)
    
- 注意
    - 如果用户不存在，则输出无此用户
    
## 切换用户

当我们在操作Linux时，如果当前用户的权限不够，则可以通过 su - 指令，切换到高权限用户，比如root

- 语法
    - su - 用户名

- 案例
    - 创建一个用户zf，指定密码，然后切换到zf用户
        - useradd zf，创建用户
        - passwd zf，指定用户的密码
        - su - zf，切换到zf用户
        - exit，退出zf用户，切换到原来的用户，例如root

- 细节
    - 从权限高的用户，切换到权限低的用户，不需要密码，反之则需要。
    - 当需要原来的用户时，使用exit指令。
    
## 查看当前用户

- 语法
    - whoami
    
# 用户组

类似于角色，系统可以对有共性的多个用户进行统一的管理

## 新增组（创建组）

- 语法
    - groupadd 组名
    
- 增加用户时，就指定组
    - useradd -g 用户组 用户名

- 案例
    - 增加zwj用户，并且直接指定到wudang组
        - groupadd wudang，新建wudang组
        - useradd -g wudang zwj，新增zwj用户，并指定为wudang组
        - id zwj，查询zwj用户的信息，输出uid=503(zwj) gid=503(wudang) 组=503(wudang)
    
##删除组

- 语法
    - groupdel 组名
    
## 修改用户的组

- 语法
    - usermod -g 用户组 用户名
    
- 案例
    - 创建一个shaolin组，将zwj修改到shaolin组，不在wudang组
        - groupadd shaolin，新增shaolin组
        - usermod -g shaolin zwj，将zwj的组修改为shaolin
        - id zwj，查看zwj的用户信息，uid=503(zwj) gid=504(shaolin) 组=504(shaolin)
        
## /etc/passwd 文件

用户（user）的配置文件，记录用户的各种信息

- root:x:0:0:root:/root:/bin/bash
- zf:x:502:502::/home/zf:/bin/bash
- zwj:x:503:504::/home/zwj:/bin/bash

每行的含义：用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录 Shell

## /etc/shadow 文件

口令的配置文件

- root:$6$PO73HfawEuegVIfS$OxGAx6TzOYSwImLYbyqq.ERoDLZHeAw9OYLseV3H99rTbffNLq/ssiqLG87kX7nSVlAH.qPDX4vT1XAUAOvZc/:18486:0:99999:7:::
- zf:$6$41mu2iCP$jerQRpDcmqQC7XvnQawEu6FaNSCRv8Ot5MlW30q9ai7YKecGHH3.WnLk0N52Q.pc8xbI/SxWJHtqFmSdVSj2k/:18486:0:99999:7:::
- zwj:!!:18486:0:99999:7:::
每行的含义：登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动 时间:失效时间:标志

## /etc/group 文件

组(group)的配置文件，记录 Linux 包含的组的信息

- xm:x:500:
- xq:x:501:
- zf:x:502:
- wudang:x:503:
- shaolin:x:504:

每行含义：组名:口令:组标识号:组内用户列表