#### Mac系统下MySQL解决中文乱码问题

#### 查看MySQL数据的编码

- 终端下登录MySQL，输入密码，回车

```
mysql -uroot -p
```

- 查询数据库编码

```
show variables like '%char%';
```

- 重点看character_set_database，如果是latin1，是不支持中文的，我们需要改成utf-8

```
mysql> show variables like '%char%';
+--------------------------+---------------------------------------------------------+
| Variable_name            | Value                                                   |
+--------------------------+---------------------------------------------------------+
| character_set_client     | utf8                                                    |
| character_set_connection | utf8                                                    |
| character_set_database   | latin1                                                    |
| character_set_filesystem | binary                                                  |
| character_set_results    | utf8                                                    |
| character_set_server     | utf8                                                    |
| character_set_system     | utf8                                                    |
| character_sets_dir       | /usr/local/mysql-5.7.16-osx10.11-x86_64/share/charsets/ |
+--------------------------+---------------------------------------------------------+
```

#### 修改MySQL配置文件

- 重点：关闭MySQL服务!!

- 去**/usr/local/mysql/support-files**目录下，复制一份配置模板**my-default.cnf**到**/etc**下，复制以下内容到文件中

```
# For advice on how to change settings please see
# http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html
# *** DO NOT EDIT THIS FILE. It's a template which will be copied to the
# *** default location during install, and will be replaced if you
# *** upgrade to a newer version of MySQL.

#更改数据库编码需要更改的
[mysqld]
character-set-server=utf8

#备份数据库需要更改的
[mysqldump]
user=root
password=123456

# Remove leading # and set to the amount of RAM for the most important data
# cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.
# innodb_buffer_pool_size = 128M

# Remove leading # to turn on a very important data integrity option: logging
# changes to the binary log between backups.
# log_bin

# These are commonly set, remove the # and set as required.
# basedir = .....
# datadir = .....
# port = .....
# server_id = .....
# socket = .....

# Remove leading # to set options mainly useful for reporting servers.
# The server defaults are faster for transactions and fast SELECTs.
# Adjust sizes as needed, experiment to find the optimal values.
# join_buffer_size = 128M
# sort_buffer_size = 2M
# read_rnd_buffer_size = 2M 

sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES
```

- 保存，重启MySQL服务

- 终端再次登录MySQL，并查看编码格式：**show variables like '%char%';**，character_set_database为utf8即可

```
mysql> show variables like '%char%';
+--------------------------+---------------------------------------------------------+
| Variable_name            | Value                                                   |
+--------------------------+---------------------------------------------------------+
| character_set_client     | utf8                                                    |
| character_set_connection | utf8                                                    |
| character_set_database   | utf8                                                    |
| character_set_filesystem | binary                                                  |
| character_set_results    | utf8                                                    |
| character_set_server     | utf8                                                    |
| character_set_system     | utf8                                                    |
| character_sets_dir       | /usr/local/mysql-5.7.16-osx10.11-x86_64/share/charsets/ |
+--------------------------+---------------------------------------------------------+
```

- 如果还是不行，删除表，重新创建，再试试